import{resetForm}from"./form-validation.js";const successMessageTemplate=document.querySelector("#success").content.querySelector(".success"),errorMessageTemplate=document.querySelector("#error").content.querySelector(".error"),createSuccessMessage=()=>{const e=successMessageTemplate.cloneNode(!0);document.body.append(e),document.addEventListener("keydown",onSuccessMessageKeydown),e.addEventListener("click",onMessageClick),resetForm()},createErrorMessage=()=>{const e=errorMessageTemplate.cloneNode(!0);document.body.append(e),document.addEventListener("keydown",onErrorMessageKeydown,{capture:!0}),e.addEventListener("click",onMessageClick)},closeSuccessMessage=()=>{const e=document.querySelector(".success");e.remove(),document.removeEventListener("keydown",onSuccessMessageKeydown),e.removeEventListener("click",onMessageClick)},closeErrorMessage=()=>{const e=document.querySelector(".error");e.remove(),document.removeEventListener("keydown",onErrorMessageKeydown,{capture:!0}),e.removeEventListener("click",onMessageClick)},isEscapeKey=e=>"Escape"===e.key;function onSuccessMessageKeydown(e){isEscapeKey(e)&&(e.preventDefault(),closeSuccessMessage())}function onErrorMessageKeydown(e){isEscapeKey(e)&&(e.preventDefault(),e.stopPropagation(),closeErrorMessage())}function onMessageClick(e){e.preventDefault(),(e.target.matches(".success")||e.target.matches(".success__button"))&&closeSuccessMessage(),(e.target.matches(".error")||e.target.matches(".error__button"))&&closeErrorMessage()}export{createSuccessMessage,createErrorMessage};